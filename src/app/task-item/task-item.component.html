<div class="card task-card mt-3" [ngClass]="{ 'overdue' : isOverdue }" draggable="true" (dragstart)="onDragStart($event)" (dragend)="onDragComplete($event)">
    <div class="card-body" *ngIf="!isLoading; else Loader">
        <div class="card-title">
            <span class="h5">{{ taskItem.message }}</span>
        </div>
        <div class="col-12 px-0">
            <div class="row">
                <div class="col">
                    <ng-container *ngIf="taskItem.assigned_name; else NoAssignedName">
                        <img [src]="userDisplayPicture" class="display-picture d-inline-block" />
                        <div class="text-muted font-weight-semi-bold ml-2 d-inline-block" *ngIf="taskItem.assigned_name">{{ taskItem.assigned_name }}</div>
                    </ng-container>
                </div>
                <div class="col text-right">
                    <small *ngIf="taskItem.due_date; else NoDueDate" class="text-muted font-weight-semi-bold"> {{ taskItem.due_date | dateFormat:false }} </small>
                </div>
            </div>
        </div>
        <!-- <div class="col-12">
            <details>
                <summary>Debug</summary>
                <pre><code>{{ taskItem | json }}</code></pre>
            </details>
        </div> -->
        <div class="action-pane">
            <i class="fa fa-trash action" title="Delete this task" (click)="deleteSelf()"></i>
        </div>
    </div>
</div>
<ng-template #NoAssignedName>
    <span class="text-muted">Unassigned</span>
</ng-template>
<ng-template #NoDueDate>
    <small class="text-muted">No Due Date</small>
</ng-template>
<ng-template #Loader>
    <div class="card-body text-center">
        <i class="fa fa-spinner fa-spin text-muted"></i>
        <p class="text-muted">Please wait</p>
    </div>
</ng-template>